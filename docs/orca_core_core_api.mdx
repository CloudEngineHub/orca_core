---
title: OrcaHand API
sidebar_position: 2
---

# OrcaHand Class Documentation

## Module: `orca_core`

## **OrcaHand**

OrcaHand class is used to abtract hardware control the hand of the robot with simple high level control methods in joint space.

<details>
<summary><strong>
calibrate()
</strong></summary>

Calibrate the hand by moving the joints to their limits and setting the ROMs. The proecess is hardware independent and is defined in the config.yaml file.
By increasing the motor position, the motor will turn counter-clockwise, flexing the joint.

</details>
<details>
<summary><strong>
calibrate_manual()
</strong></summary>

</details>
<details>
<summary><strong>
connect()
</strong></summary>

Connect to the hand with the DynamixelClient.
**Returns:**

- **tuple[bool, str]** – (Success status, message).

</details>
<details>
<summary><strong>
disable_torque(**motor_ids**)
</strong></summary>

Disable torque for the motors.

**Parameters:**

- **motor_ids** (list): List of motor IDs to disable the torque. If None, all motors will be disabled.

</details>
<details>
<summary><strong>
disconnect()
</strong></summary>

Disconnect from the hand.
**Returns:**

- **tuple[bool, str]** – (Success status, message).

</details>
<details>
<summary><strong>
enable_torque(**motor_ids**)
</strong></summary>

Enable torque for the motors.

**Parameters:**

- **motor_ids** (list): List of motor IDs to enable the torque. If None, all motors will be
  enabled

</details>
<details>
<summary><strong>
get_joint_pos(**as_list**=**True**)
</strong></summary>

Get the current joint positions.

**Parameters:**

- **as_list** (**bool**, default=**True**) – If True, return the joint positions as a list in the order of joint_ids.
  If False, return the joint positions as a dictionary.

**Returns:**

- **Union[dict, list]** – Joint positions as a list [position1, position2, ...] in the order of joint_ids
- **or as a dictionary &#123;joint_name** – position&#125;.

</details>
<details>
<summary><strong>
get_motor_current(**as_dict**=**False**)
</strong></summary>

Get the current motor currents in mA.

**Parameters:**

- **as_dict** (**bool**, default=**False**) – If True, return the motor currents as a dictionary with motor IDs as keys.
  If False, return as numpy array.

**Returns:**

- **Union[np.ndarray, dict]** – Motor currents either as numpy array or dictionary &#123;motor_id: current&#125;.

</details>
<details>
<summary><strong>
get_motor_pos(**as_dict**=**False**)
</strong></summary>

Get the current motor positions in radians (Note that this includes offsets of the motors).

**Parameters:**

- **as_dict** (**bool**, default=**False**) – If True, return the motor positions as a dictionary with motor IDs as keys.
  If False, return as numpy array.

**Returns:**

- **Union[np.ndarray, dict]** – Motor positions either as numpy array or dictionary &#123;motor_id: position&#125;.

</details>
<details>
<summary><strong>
get_motor_temp(**as_dict**=**False**)
</strong></summary>

Get the current motor temperatures in Celsius.

**Parameters:**

- **as_dict** (**bool**, default=**False**) – If True, return the motor temperatures as a dictionary with motor IDs as keys.
  If False, return as numpy array.

**Returns:**

- **Union[np.ndarray, dict]** – Motor temperatures either as numpy array or dictionary &#123;motor_id: temperature&#125;.

</details>
<details>
<summary><strong>
init_joints(**calibrate**=**False**)
</strong></summary>

Initialize the joints, enables torque, sets the control mode and sets to the zero position.
If the hand is not calibrated, it will calibrate the hand. 

**Parameters:**

- **calibrate** (bool): If True, the hand will be calibrated

</details>
<details>
<summary><strong>
is_calibrated()
</strong></summary>

Check if the hand is calibrated.
**Returns:**

- **bool** – True if calibrated, False otherwise.

</details>
<details>
<summary><strong>
is_connected()
</strong></summary>

Check if the hand is connected.
**Returns:**

- **bool** – True if connected, False otherwise.

</details>
<details>
<summary><strong>
set_control_mode(**mode**, **motor_ids**)
</strong></summary>

Set the control mode for the motors.

**Parameters:**

- **mode** (str): Control mode.
  (0) current: Current control mode,
  (1) velocity: Velocity control mode,
  (3) position: Position control mode,
  (4) multi_turn_position: Multi-turn position control mode,
  (5) current_based_position: Current-based position control mode.
- **motor_ids** (list): List of motor IDs to set the control mode. If None, all motors will be set.

</details>
<details>
<summary><strong>
set_joint_pos(**joint_pos**, **num_steps**=**1**, **step_size**=**1.0**)
</strong></summary>

Set the desired joint positions.

**Parameters:**

- **joint_pos** (dict or list): If dict, it should be &#123;joint_name: desired_position&#125;.
  If list, it should contain positions in the order of joint_ids.
- **num_steps** (int): Number of steps to reach the target position. If 1, moves directly to target.
- **step_size** (float): Time to wait between steps in seconds.

</details>
<details>
<summary><strong>
set_max_current(**current**)
</strong></summary>

Set the maximum current for the motors.

**Parameters:**

- **current** (int) or (list): If list, it should be the maximum current for each motor, otherwise it will be the same for all motors.

</details>
<details>
<summary><strong>
set_neutral_position(**num_steps**=**25**, **step_size**=**0.001**)
</strong></summary>

Set the hand to the neutral position by moving all joints simultaneously to their neutral positions
in a smooth, gradual motion.

</details>
<details>
<summary><strong>
set_zero_position(**num_steps**=**25**, **step_size**=**0.001**)
</strong></summary>

Set the hand to the zero position by moving all joints simultaneously to their zero positions
in a smooth, gradual motion.

**Parameters:**

- **num_steps** (int): Number of steps to reach the zero position.
- **step_size** (float): Step size for each joint.

</details>
<details>
<summary><strong>
require_calibration(**func**)
</strong></summary>

</details>
<details>
<summary><strong>
require_connection(**func**)
</strong></summary>

</details>

